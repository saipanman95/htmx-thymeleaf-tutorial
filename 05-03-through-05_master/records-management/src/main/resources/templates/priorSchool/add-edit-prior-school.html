<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:hx-on="http://www.w3.org/1999/xhtml" lang="en">
<div th:fragment="prior-school-form">
  <div class="card bg-dark text-white mt-4">
    <div class="card-body">
      <h4 class="card-title" th:text="${priorSchool.id != null} ? 'Edit Prior School' : 'Add Prior School'">Add/Edit Prior School</h4>
      <form th:action="@{/prior-schools/school/{id}/update(id=${id})}" method="post"
            th:object="${priorSchool}">
        <input type="hidden" th:field="*{id}"/>
        <!-- First Row: School Name -->
        <div class="row">
          <!-- School Name -->
          <div class="mb-3 col-md-12">
            <label for="schoolName" class="form-label">School Name:</label>
            <input type="text" class="form-control" id="schoolName" th:field="*{schoolName}" required>
          </div>
        </div>

        <!-- Second Row: Address -->
        <div class="row">
          <!-- Address -->
          <div class="mb-3 col-md-12">
            <label for="address" class="form-label">Address:</label>
            <input type="text" class="form-control" id="address" th:field="*{address}">
          </div>
        </div>

        <!-- Third Row: City, State, Zip -->
        <div class="row">
          <!-- City -->
          <div class="mb-3 col-md-6">
            <label for="city" class="form-label">City:</label>
            <input type="text" class="form-control" id="city" th:field="*{city}">
          </div>
          <!-- State -->
          <div class="mb-3 col-md-2">
            <label for="state" class="form-label">State:</label>
            <input type="text" class="form-control" id="state" th:field="*{state}">
          </div>
          <!-- Zip -->
          <div class="mb-3 col-md-2">
            <label for="zip" class="form-label">Zip:</label>
            <input type="text" class="form-control" id="zip" th:field="*{zip}">
          </div>
          <!-- Phone Number -->
          <div class="mb-3 col-md-2">
            <label for="phoneNumber" class="form-label">Phone Number:</label>
            <input type="text" class="form-control" id="phoneNumber" th:field="*{phoneNumber}">
          </div>
        </div>

        <!-- Fourth Row: Phone Number -->
        <div class="row">
          <div class="mb-3 col-md-6">
            <label for="gradeLevel" class="form-label">Grade Level:</label>
            <input type="text" class="form-control" id="gradeLevel" th:field="*{gradeLevel}">
          </div>

          <div class="mb-3 col-md-6">
            <label for="gpa" class="form-label">GPA:</label>
            <input type="text" class="form-control" id="gpa" th:field="*{gpa}">
          </div>
        </div>

        <!-- Fifth Row: Administrator First Name, Administrator Last Name -->
        <div class="row">
          <!-- Administrator First Name -->
          <div class="mb-3 col-md-6">
            <label for="administratorFirstName" class="form-label">Administrator First Name:</label>
            <input type="text" class="form-control" id="administratorFirstName" th:field="*{administratorFirstName}">
          </div>
          <!-- Administrator Last Name -->
          <div class="mb-3 col-md-6">
            <label for="administratorLastName" class="form-label">Administrator Last Name:</label>
            <input type="text" class="form-control" id="administratorLastName" th:field="*{administratorLastName}">
          </div>
        </div>

        <!-- Seventh Row: Date Started Attending, Date Last Attended -->
        <div class="row">
          <!-- Date Started Attending -->
          <div class="mb-3 col-md-6">
            <label for="dateStartedAttending" class="form-label">Date Started Attending:</label>
            <input type="date" class="form-control" id="dateStartedAttending" name="dateStartedAttending"
                   th:value="${priorSchool.dateStartedAttending != null ? #temporals.format(priorSchool.dateStartedAttending, 'yyyy-MM-dd') : ''}">
          </div>
          <!-- Date Last Attended -->
          <div class="mb-3 col-md-6">
            <label for="dateLastAttended" class="form-label">Date Last Attended:</label>
            <input type="date" class="form-control" id="dateLastAttended" name="dateLastAttended"
                   th:value="${priorSchool.dateLastAttended != null ? #temporals.format(priorSchool.dateLastAttended, 'yyyy-MM-dd') : ''}">
          </div>
        </div>

        <!-- Buttons -->
        <div class="mt-4">
          <!-- Submit Button * -->
          <button type="submit" class="btn btn-success me-2" th:if="${!editSchool}"
                  th:hx-post="@{/prior-schools/student/{studentId}/save(studentId=${studentId})}"
                  hx-target="#prior-school-content"
                  hx-swap="beforeend transition:true show:#prior-school-content:bottom swap:.05s"
                  hx-on::after-request="swapFade('prior-school-form', false)"
                  hx-trigger="click">
            Save
          </button>
          <!--  Update Button -->
          <button type="submit" class="btn btn-success me-2" th:if="${editSchool}"
                  th:hx-put="@{/prior-schools/school/{id}/update(id=${id})}"
                  th:hx-target="'#prior-school-' +${id}"
                  hx-swap="outerHTML transition:true show:#prior-school-content:bottom swap:.05s"
                  hx-on::after-request="swapFade('prior-school-form', false)"
                  th:attr="data-csrf-header=${_csrf.headerName}, data-csrf-token=${_csrf.token}"
                  hx-trigger="click">
            Update
          </button>
          <!-- Cancel Button -->
          <button type="button" class="btn btn-secondary"
                  th:hx-get="@{/student/view/{studentId}(studentId=${studentId})}"
                  hx-target="body"
                  hx-swap="outerHTML transition:true">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
